<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>Questions and Answers on mod_cluster webinar</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>Questions and Answers on mod_cluster webinar</h1>
</div>
<div id="content">
<div class="paragraph">
<p>Want to know more, explained by the developper see:
<a href="http://www.vimeo.com/13180921" class="bare">http://www.vimeo.com/13180921</a> and read the resulting QA:</p>
</div>
<div class="paragraph">
<p>Q: Is the demo application available?<br>
A: Yes, it&#8217;s part of the mod-cluster download (under demo/client). The
   SessionDemo itself is not available, but it&#8217;s a simple demo
   adding data to an HTTP session. I can make it available if
   necessary&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Q: Are the slides available?<br>
A: www.jboss.org/webinars</p>
</div>
<div class="paragraph">
<p>Q: Is this a direct competition to Terracotta&#8217;s offering?<br>
A: No; mod-cluster is about (1) dynamic discovery of workers, (2) web
   applications, and (3) intelligent load balancing. Clustering is an
   orthogonal aspect; as a matter of fact, clustering could be used
   among a number of workers which are not clustered.</p>
</div>
<div class="paragraph">
<p>Q: Is the clustering between jboss instances within a domain done @ JVM level?<br>
A: No; we use JGroups (www.jgroups.org) and JBossCache
   (jboss.org/jbosscache) to replicate sessions. In JBoss 6, we&#8217;ve
   replaced JBossCache with Infinispan (infinispan.org) to replicate
   and/or distribute sessions among a cluster.</p>
</div>
<div class="paragraph">
<p>Q: Why should the deployment topology use httpd? Can&#8217;t the tomcat (bundled in
JBoss) use APR.<br>
A: Yes, JBossWeb can use APR, and as a matter of fact does use it if
   the shared APR lib is found on the library path. However, using APR
   and httpd are orthogonal issues; while the mod-cluster module could
   theoretically be used in JBossWeb directly, we haven&#8217;t tried it
   out, as many deployments still use httpd in production.
   Note that JBossWen cannot be used as a reverse proxy.</p>
</div>
<div class="paragraph">
<p>Q: What are the steps involved to migrate a setup which is on mod_jk to
mod_cluster?<br>
A: There are only a few steps involved (more details can be found on
   jboss.org/mod_cluster):
   - Use the httpd modules downloadable from jboss.org/mod_cluster
   - Configure httpd.conf accordingly
   - Drop workers.properties and uriworkermap.properties
   - Configure JBoss AS to include the addresses of the httpd
     daemon(s) running
   - (Optional) Configure the domain for the JBoss AS instance
   The steps are described in detail in
   <a href="http://docs.jboss.org/mod_cluster/1.1.0/html/mod_jk.html" class="bare">http://docs.jboss.org/mod_cluster/1.1.0/html/mod_jk.html</a></p>
</div>
<div class="paragraph">
<p>Q: Are there seperate logging mechanism for mod_cluster like we use to have
for mod_jk<br>
A: No; mod-cluster uses the normal httpd log, and this is configured in
httpd.conf (similar
   to mod-jk / mod-proxy). On the JBoss AS side, the normal AS logging
   is used (e.g. conf/log4j.xml)</p>
</div>
<div class="paragraph">
<p>Q: Is the mod_cluster the same as mod_proxy_balancer?<br>
A: No; mod_proxy_balancer requires manual configuration
   (e.g. hosts to be balanced over). Also, web applications have to be
   present on all hosts, and don&#8217;t register themselves
   automatically. Plus, mod_proxy_balancer doesn&#8217;t have any notion of
   load balance factors sent to it by the workers.</p>
</div>
<div class="paragraph">
<p>Q: I have an application that uses an HASingleton(ejbtimer). In case of a
multidomains architecture, my application would fail because I would have an
ejbtimer in each domain. How would you get a large cluster work in this
scenario.<br>
A: If one singleton timer per domain is not desired, then one could
   place the singleton timer into a separate cluster, which spans
   multiple domains. Note that an HASingleton ejb timer and
   distributed cache will use separate channels by default.</p>
</div>
<div class="paragraph">
<p>Q: Is it not efficient to avoid sticky-sessions? If we avoided sticky sessions,
then We could use hardware based load-balancers which did load balancing @
Transport (TCP/IP) layer rather than Application layer.<br>
A: Making sessions non-sticky means that access to sessions can be random, ie.
requests for an HTTP session can go to any node within a domain. However, this
means that we should not use asynchronous replication, as a write to an
attribute followed by an immediate read of the same attribute but on a
different node might lead to the reading of stale data. However, using
synchronous replication is slower because every write incurs a round trip to
the cluster, and the caller blocks until all responses have been received. Our
recommendation is to use sticky sessions and asynchronous replication, for the
best performance.</p>
</div>
<div class="paragraph">
<p>Q: Is it possible to configure mod_cluster or mod_jk in a way that certain IPs
requests go to just a particular domain<br>
A: Not easily. One could configure virtual hosts in httpd.conf, and
   workers connect to certain virtual hosts only, but there is no
   enforcement of which domains are hit from the httpd side.</p>
</div>
<div class="paragraph">
<p>Q: We used appliance for load balancing. Can we use mod-cluster for dynamic
configuration instead of using static properties?<br>
A: No, mod-cluster requires the httpd to run. We intend to talk to load
balancer vendors and get them to implement the MCMP protocol, so that their
balancers could be used with mod-cluster enabled workers.</p>
</div>
<div class="paragraph">
<p>Q: Is mod_cluster delivered as a native module in Apache just as mod_proxy?<br>
A: Yes, on the httpd side. On the JBoss AS side, we use a service archive
(mod_cluster.sar), in /deploy</p>
</div>
<div class="paragraph">
<p>Q: A little more general clustering question. What about distributing jboss
servers across datacenters but that belong to the same cluster?<br>
A: This is possible, however, in most cases IP multicasting would not be
available over a WAN. Therefore, the configuration of JBoss AS should use a
TCP based stack rather than a UDP based stack.</p>
</div>
<div class="paragraph">
<p>Q: Can you suggest the pattern to cluster the Apache server for Fail over when
acting as Load balancer for Jboss Cluster<br>
A: This is very simple: just start multiple httpds and add them to JBoss AS,
   e.g. mod_cluster.proxyList=host1:8000,Host2:8000 etc
   Workers (JBoss instances) will then register themselves and their
   applications with all httpds in the list.</p>
</div>
<div class="paragraph">
<p>Q: Is mod_cluster available with JBoss AS (community) or JBoss Enterprise
Application Platform from Red Hat?<br>
A: Currently, mod-cluster 1.1.0.CR3 will ship as part of JBoss AS 6. The
mod-cluster functionality is part of EAP 5.0.1 and will also be part of JBoss EAP 5.1.</p>
</div>
<div class="paragraph">
<p>Q: Can the worker nodes be configured from JON?<br>
A: Not yet (with respect to mod-cluster configuration). This is on the roadmap.</p>
</div>
<div class="paragraph">
<p>Q: What is the configuration for dynamically adding nodes as load increases?<br>
A: This feature is not available. It might be available as part of our
Deltacloud product. Currently, third party vendor&#8217;s products, such as
RightScale, could be used to do this.</p>
</div>
<div class="paragraph">
<p>Q: Which version of mod_cluster do you use ? in my version i cannot see the
sessions<br>
A: To see sessions in mod_cluster_manager, the following entry has to be added
to httpd.conf:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;IfModule mod_manager.c&gt;
    MaxsessionId 50
&lt;/IfModule&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that sessions are by default not shown in mod_cluster_manager.
Refer to the documentation at jboss.org/mod_cluster for details.</p>
</div>
<div class="paragraph">
<p>Q: can you show config quickly how mod_cluster automatically detect new hosts?<br>
A: When a new JBoss instance is started, as soon as the mod_cluster.sar service
is deployed, the host and all of its applications will be registered with all
httpds, so this happens immediately.</p>
</div>
<div class="paragraph">
<p>Q: What do you advice in a multi-datacenter setup? Can we use mod_cluster and
won&#8217;t this cause a event-storm when one of the datacenters goes down?<br>
A: When you have domains across multiple data centers, and one data center goes
down, then the other data center has to accommodate the traffic from the data
center which is down. This causes more traffic to the surviving data center, so
when doing capacity planning this should be taken into account. If the nodes in
a domain run in the cloud, then one could envisage automatically starting new
virtualized instances to accommodate the handling of this increased traffic.</p>
</div>
<div class="paragraph">
<p>Q: Are there seperate logging mechanism for mod_cluster like we use to have for
mod_jk<br>
A: mod-cluster is configured through the usual mechanism in httpd.conf</p>
</div>
<div class="paragraph">
<p>Q: Do we need a mod_cluster manager on all nodes [in the cluster]?<br>
A: Note that mod_cluster_manager is only available on the httpd side</p>
</div>
<div class="paragraph">
<p>Q: Is gossiprouter high available?<br>
A: Yes, multiple GossipRouters can be started. Note that, if running only on
EC2, then a protocol called S3_PING can be used as an alternative. It uses an
S3 bucket to store cluster topology information.</p>
</div>
<div class="paragraph">
<p>Q: For the group of HTTP daemons in front of the clusters, I assume those can
be round robin&#8217;d DNS, or any other method of load balancing them?<br>
A: No, DNS round robin (or a hardware load balancer fronting the httpds) works.
When using sticky sessions, the jsessionid is sent with each request (cookie or
URL rewriting) and it is suffixed with the jvmRoute of the node which hosts a
given session.</p>
</div>
<div class="paragraph">
<p>Q: Does JBoss support UNICAST messaging?<br>
A: Yes; JGroups would have to be configured appropriately to do that. When
using TCP, this is done automatically. When using UDP, ip_mcast="false" would
have to be set.</p>
</div>
<div class="paragraph">
<p>Q: Is there support for mount point exclusions like JkUnMount in mod-jk?<br>
A: Yes, use
<code>&lt;property name="excludedContexts"&gt;jmx-console,web-admin,ROOT&lt;/property&gt;</code> in
<code>/deploy/mod_cluster.sar/META-INF/mod_cluster-jboss-beans.xml</code></p>
</div>
<div class="paragraph">
<p>Q: What are the steps involved to migrate a setup which is on mod_jk to
mod_cluster?<br>
A: See the previous answer above
(<a href="http://docs.jboss.org/mod_cluster/1.1.0/html/mod_jk.html" class="bare">http://docs.jboss.org/mod_cluster/1.1.0/html/mod_jk.html</a>)</p>
</div>
<div class="paragraph">
<p>Q: There is implicit, a concept, of starting connections from the jboss
"backend" to the frontend" ,this seems odd to me?<br>
A: This is only conceptual; workers will <strong>not</strong> create a socket connection to
   httpd. Instead httpd connects to the workers (ie. JBoss AS instances) and
   the workers use the same channel to send status updates, registration of web
   applications etc.</p>
</div>
<div class="paragraph">
<p>Q: Can you use buddy list to replicate session accross domains?<br>
A: Yes, that can be done, as a domain doesn&#8217;t need to have the same scope as a
   cluster; a cluster can span multiple domains. However, for scalability
   purposes, we recommend to restrict a cluster to a domain</p>
</div>
<div class="paragraph">
<p>Q: How does full replication in each domain compare to using buddy replication
   and just one cluster/domain?<br>
A: The scalability of full replication is a function of cluster size and
   average data size, so if we have many nodes and/or large data sets, then we
   hit a scalability ceiling.
   If DATA_SIZE * NUMBER_OF_HOSTS is smaller than the memory available to each
   host, the full replication is preferred, as reads are always local. If this
   is not the case, then we can use multiple domains, or we can use one single
   cluster, but switch from full replication to either buddy replication
   (JBossCache) or distribution (Infinispan). Distribution only stores N copies
   of a session, therefore scales much better than full replication.</p>
</div>
<div class="paragraph">
<p>Q: Is there any turorial provided?<br>
A: There&#8217;s a quick start guide available at jboss.org/mod_cluster</p>
</div>
<div class="paragraph">
<p>Q: Is it possible to limit which hosts are allowed to join the cluster easily?<br>
A: Yes. This can be done at the JGroups level, by using a protocol called AUTH
   (<a href="http://community.jboss.org/wiki/JGroupsAUTH" class="bare">http://community.jboss.org/wiki/JGroupsAUTH</a>). It provides passwords, X.509
   certificates, host lists and simple MD5 hashes as authentication, but it is
   pluggable, so other mechanisms can be included. Post questions on AUTH to
   the JGroups mailing list (jgroups.org).</p>
</div>
<div class="paragraph">
<p>Q: to uprade without downtime you have to have at least two domains for each
application, right?<br>
A: Yes</p>
</div>
<div class="paragraph">
<p>Q: Is there any method/workaround to avail Session Replication across Domains?<br>
A: A cluster isn&#8217;t restricted in scope to a domain, it can span multiple
   domains. However, that defeats the purpose of a domain (divide-and-conquer),
   and makes rolling upgrade more difficult. For instance, if a cluster spans 2
   domains, then it is better to club the 2 domains together into one.</p>
</div>
<div class="paragraph">
<p>Q: I missed some of the demo - I saw the session replication/migration in the
demo, but wanted to know if I have 2 apache servers in front of the jboss
cluster and a network load balancer doing round robins will mod_cluster
maintain the session across them?<br>
A: Yes. The jvmRoute is appended to the jsessionid and identifies the node in a
given domain uniquely. See also the question above on DNS round robin.</p>
</div>
<div class="paragraph">
<p>Q: on apache side, which is required versions? 2.2 or also 2.0?<br>
A: 2.2.8 or higher</p>
</div>
<div class="paragraph">
<p>Q: Im using JBoss 4.2.2 GA.. Should I migrate to JBoss6?<br>
A: JBoss 5 or higher. You <strong>can</strong> use mod_cluster with JBoss 4.2.2 - but
   you&#8217;d need to configure it as you would for JBoss Web standalone
   (or Tomcat) - and consequently has slightly limited functionality,
   e.g. no HA-mode, limited to 1 load metric.</p>
</div>
<div class="paragraph">
<p>Q: UDP broadcast?<br>
A: The ability to send a packet to all hosts on a given subnet. IP multicasting
   is more efficient because a packet is only sent to subscribed hosts. IP
   multicasting is more efficient than TCP is large clusters, because the
   switch copies the packet to all recipients, whereas with TCP a packet has to
   be sent N-1 times (where N is the cluster size)</p>
</div>
<div class="paragraph">
<p>Q: Normally how much time it takes for new node to be detected by
   mod_cluster..is it configurable?<br>
A: No, it is not configurable. As soon as the JBoss instance is started, it
   (and its webapps) will get registered.
   The time required to do this depends on how the node finds out
   about the proxy. If you&#8217;ve configured mod_cluster with a static
   proxy list, then it registers with the httpd proxy upon startup. If
   you configured mod_cluster server-side to use an HASingleton (via
   HAModClusterService), then it knows about the proxy upon joining
   the cluster - also upon startup. Otherwise, you are relying on the
   advertise mechanism - so the time required to register with the
   proxy is a product of the advertise interval (AdvertiseFrequency,
   configured in httpd.conf), and the status interval
   (Engine.backgroundProcessorDelay, configured in server.xml)</p>
</div>
<div class="paragraph">
<p>Q: how the new servers got added pick up the sessions? are they new or existing
   sessions?<br>
A: The new servers use a mechanism provided by JGroups called state transfer
   (see <a href="http://www.jgroups.org/manual/html/user-channel.html#GetState" class="bare">http://www.jgroups.org/manual/html/user-channel.html#GetState</a>), which
   copies the existing sessions into a new server. This way, the new server can
   be failed over to should an existing server crash.
   Note that state transfer is not needed if we use distribution instead of
   replication (see above).</p>
</div>
<div class="paragraph">
<p>Q: When performing rolling upgrades, how do you mitigate issues where the
   database schema changes? So certain domains may be using JNDI to hook into
   one core db - if another domain is upgraded in a roll out then hibernate
   will update / alter those tables?<br>
A: Schema migration is a difficult topic, outside the scope of mod-cluster. One
   possible way could be to have a separate DB in the new domain, drain the old
   domain, and - when the old domain is shut down - transfer the data from the
   old to the new DB. But, again, this is very application dependent, and
   generic advise moot.</p>
</div>
<div class="paragraph">
<p>Q: Is mod_cluster also wokring with JBoss 5.1 with the same power, or does it
   require Jboss 6?<br>
A: mod-cluster works with 5.1, but is already integrated into AS 6 out
   of the box.
   The latest mod_cluster 1.1.0.CR3 release will work with JBoss 5.1
   with no configuration changes - just drop in the mod_cluster.sar
   into the $JBOSS_HOME/server/all/deploy directory.</p>
</div>
<div class="paragraph">
<p>Q: How do nodes identify other nodes within their cluster?  In other words how
   do EC2 nodes only cluster with EC2 nodes etc.?<br>
A: Nodes find other nodes through JGroups (www.jgroups.org). On EC2, we can
   either use a GossipRouter, which is a separate lookup process, or S3_PING
   which is based on S3 buckets.
   A cluster is defined via (a) the same configuration and (b) the same cluster
   name. All nodes which have (a) and (b) form a cluster. Nodes which have (a)
   but a different cluster name for a different cluster.</p>
</div>
<div class="paragraph">
<p>Q: Is it possible to shutdown and drain a single web app?<br>
A: Yes. The steps are:
   - Disable the app
   - Wait until the sessions for the app have drained
   - Undeploy the app
   - Deploy the new app
   Note that the old and new webapp needs to be compatible, ie. classes
   cannot change between redeployments.
   If there is an incompatible change, I recommend to drain all webapps of the same type
   (context) in a domain.</p>
</div>
<div class="paragraph">
<p>Note that undeploy of a web application will perform the above operations
automatically! Use the stopContextTimeout/stopContextTimeoutUnit config
properties to control the default drain timeout. If you&#8217;re using session
replication, then you don&#8217;t need to wait for all sessions to drain - just all
current requests to complete, since those session will be available elsewhere.
The method of draining is determined by whether or not the target web
application is distributable or not. Additionally, the sessionDrainingStrategy
config property can be used to always force session draining, even for
distributable web applications.</p>
</div>
<div class="paragraph">
<p>Alternatively, you can stop a single context manually in once step via the
stopContext(&#8230;&#8203;) JMX operation.</p>
</div>
<div class="paragraph">
<p>Q: Is mod_cluster delivered as a native module in Apache, just as mod_proxy?<br>
A: Yes</p>
</div>
<div class="paragraph">
<p>Q: Does the "load balancer demo app" come with mod_cluster?<br>
A: Yes, under /demo/client</p>
</div>
<div class="paragraph">
<p>Q: Can you configure the jboss nodes to announce themselves to the httpd
servers over a local/private network keeping that communication private and
seperate from the public access to the application?<br>
A: Yes. You can - since a separate connection is used, provided these
   routes exist. This private network address/port would be provided by
   the advertise mechanism or via the server-side proxyList.
   The private and public network could be created in httpd.conf,
   using virtual hosts.</p>
</div>
<div class="paragraph">
<p>Q: When a new version of a web app is deployed, how does JBoss/mod_cluster
   know how to replicate between old versions and new versions?<br>
A: The webapp needs to be compatible to existing versions. If it isn&#8217;t, deploy
   it into a new domain, or redeploy all existing webapps of the same type.</p>
</div>
<div class="paragraph">
<p>Q: Can mod_clustered enabled when v use configure Elastic Load Balance?<br>
A: Yes, but this doesn&#8217;t make much sense. Compared to ELB, mod-cluster is (1)
   cloud independent (ELB only exists in EC2), (2) allows for dynamic
   registration of workers (this is static in ELB), (3) allows for dynamic
   registration/de-registration of webapps (ELB doesn&#8217;t) and (4) sends dynamic
   load balancer information back to httpd (ELB has some built-in LB
   functionality, but it is not extensible).</p>
</div>
<div class="paragraph">
<p>Q: what about the performance when we divide one large cluster in to small
   clusters?<br>
A: Performance is probably better, for various reasons. For example, if we use
   TCP, cluster wide calls (RPCs) have a cost of N-1. With smaller N&#8217;s, these
   calls become less costly.</p>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-02-09 15:09:58 UTC
</div>
</div>
</body>
</html>